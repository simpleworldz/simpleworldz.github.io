<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ASP.NET MVC 学习笔记 | 木漏れ日</title><meta name="keywords" content="C#,MVC,ASP.NET MVC"><meta name="author" content="itaru"><meta name="copyright" content="itaru"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="教程网址：TutorialSteacher - ASP.NET MVC Tutorials ASP.NET MVC 5 是一个基于模型-视图-控制器 (MVC) 架构的 Web 框架。开发人员可以使用 ASP.NET MVC 框架构建动态 Web 应用程序，该框架实现了关注点的清晰分离、快速开发和 TDD 友好。 路由 路由设置中 UrlParameter.Optional 表示可选参数。 路由可"><meta property="og:type" content="article"><meta property="og:title" content="ASP.NET MVC 学习笔记"><meta property="og:url" content="https://www.itaru.xyz/blogs/cd7c564f.html"><meta property="og:site_name" content="木漏れ日"><meta property="og:description" content="教程网址：TutorialSteacher - ASP.NET MVC Tutorials ASP.NET MVC 5 是一个基于模型-视图-控制器 (MVC) 架构的 Web 框架。开发人员可以使用 ASP.NET MVC 框架构建动态 Web 应用程序，该框架实现了关注点的清晰分离、快速开发和 TDD 友好。 路由 路由设置中 UrlParameter.Optional 表示可选参数。 路由可"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ih.itaru.xyz/images/reiko.jpg"><meta property="article:published_time" content="2022-01-04T07:23:45.000Z"><meta property="article:modified_time" content="2022-01-05T02:54:30.576Z"><meta property="article:author" content="itaru"><meta property="article:tag" content="C#"><meta property="article:tag" content="MVC"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://ih.itaru.xyz/images/reiko.jpg"><link rel="shortcut icon" href="https://ih.itaru.xyz/images/limuru.jpg"><link rel="canonical" href="https://www.itaru.xyz/blogs/cd7c564f"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Kiwi+Maru&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isanchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"ASP.NET MVC 学习笔记",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-01-05 10:54:30"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));const n=saveToLocal.get("global-font-size");void 0!==n&&document.documentElement.style.setProperty("--global-font-size",n+"px");GLOBAL_CONFIG_SITE.isHome&&/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/icon.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/font.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://unpkg.zhimg.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.min.css" media="defer" onload='this.media="all"'><script async src="https://cdn.jsdelivr.net/npm/hexo-butterfly-tag-plugins-plus@latest/lib/carousel-touch.min.js"></script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="木漏れ日" type="application/atom+xml"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="scarecrow"><div class="scarecrow__hat"><div class="scarecrow__ribbon"></div></div><div class="scarecrow__head"><div class="scarecrow__eye"></div><div class="scarecrow__eye"></div><div class="scarecrow__mouth"></div><div class="scarecrow__pipe"></div></div><div class="scarecrow__body"><div class="scarecrow__glove scarecrow__glove--l"></div><div class="scarecrow__sleeve scarecrow__sleeve--l"></div><div class="scarecrow__bow"></div><div class="scarecrow__shirt"></div><div class="scarecrow__coat"></div><div class="scarecrow__waistcoat"></div><div class="scarecrow__sleeve scarecrow__sleeve--r"></div><div class="scarecrow__glove scarecrow__glove--r"></div><div class="scarecrow__coattails"></div><div class="scarecrow__pants"></div></div><div class="scarecrow__arms"></div><div class="scarecrow__leg"></div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://ih.itaru.xyz/images/limuru.jpg" onerror='onerror=null,src="img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i> <span>留言板</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://ih.itaru.xyz/images/reiko.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">木漏れ日</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友人帐</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i> <span>留言板</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ASP.NET MVC 学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2022-01-04T07:23:45.000Z" title="undefined 2022-01-04 15:23:45">2022-01-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/">C#</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C/MVC/">MVC</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>教程网址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialsteacher.com/mvc">TutorialSteacher - ASP.NET MVC Tutorials</a></p><p>ASP.NET MVC <code>5</code> 是一个基于模型-视图-控制器 (MVC) 架构的 Web 框架。开发人员可以使用 ASP.NET MVC 框架构建动态 Web 应用程序，该框架实现了关注点的清晰分离、快速开发和 TDD 友好。</p><h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><ul><li>路由设置中 UrlParameter.Optional 表示可选参数。</li><li>路由可用 <code>constraints: new &#123; id = @&quot;\d+&quot; &#125;</code> 约束。</li></ul><h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><ul><li>添加 Controller，可以根据自己的架构和编码标准使用 T4 模板开发自定义脚手架（Scaffolding）模板。</li></ul><h3 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h3><ul><li>Action 方法必须得是 public，不能为 static，不能重载。（除非指定 Http动词 如：<code>[HttpPost]</code>，不然请求时会报方法不明确的错误。如果指定的了，会根据不同的 Http动词，执行不同的 Action。）</li><li>Action 方法 返回 XXXResult（如：ViewResult、JavaScriptResult 等），这些 Result 都继承于 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialsteacher.com/mvc/action-method-in-mvc#:~:text=MVC%20framework%20includes%20various%20Result%20classes">ActionResult</a>。故 ActionResult 其实可以放回多种结果。<code>Action 方法其实也可以将返回值设置为 string int 之类的。</code></li><li>View() 方法是继承 Controller 基类而来的，返回 ViewResult。Controler 类<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialsteacher.com/mvc/action-method-in-mvc#:~:text=shown%20in%20the%20below%20table">还有 Content()、File()、Json() 等</a>。</li><li>行为选择器：ActionName、NonAction、ActionVerbs。<ol><li>测试的情况是 添加了 ActionVerbs（可添加多个）则只可以接受相应类型的请求。没有添加，则任何类型的请求都行。（<code>与文章中说的默认 GET 不符。</code>）</li><li>当返回使用 Json() 时，考虑到安全性，默认不能用 Get 请求。可将 JsonRequestBehavior 设置为 AllowGet。</li><li>浏览器搜索栏的 Url 请求，都是 Get 请求。</li></ol></li></ul><h4 id="参数匹配"><a href="#参数匹配" class="headerlink" title="参数匹配"></a>参数匹配</h4><ul><li>默认情况下，Action 参数的值是从请求的数据集合中检索的。数据集合包括表单数据或查询字符串值或 <code>cookie 值的名称/值对</code>（这个没试过），对<code>参数名的匹配大小写不敏感</code>。可用 <code>[Bind(Include = &quot;StudentId, StudentName&quot;)]</code> 设置绑定的参数。</li><li>同名参数<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialsteacher.com/mvc/model-binding-in-asp.net-mvc#:~:text=Default%20value%20provider%20collection%20evaluates%20values%20from%20the%20following%20sources:">匹配优先级 Form &gt; QueryString</a>。无论是 POST 请求还是 GET 请求。（Postman 中，Post 请求可以有 QueryString 数据，Get 请求也可以有 Form 数据。）</li><li>Action 非可控类型（如 int）的参数，如果没有赋值，会报错。可改用 int?。</li></ul><h3 id="Razor"><a href="#Razor" class="headerlink" title="Razor"></a>Razor</h3><ul><li>Razor <code>@:</code> 或者 <code>&lt;text&gt;/&lt;text&gt;</code> 可在代码块中展示文本或 html 标签。文本中又可以使用 @ ，可多重嵌套。</li><li>@{} 中的内容默认当做代码，但是 <code>&lt;xxx&gt;aaa&lt;/xxx&gt;</code> 或 <code>&lt;/br&gt; 类的</code> 形式的内容会被当做 html 标签解析。</li></ul><h4 id="Html"><a href="#Html" class="headerlink" title="@Html"></a>@Html</h4><ul><li>还能这么用继承的？<code>WebViewPage&lt;TModel&gt; : WebViewPage</code>。</li><li>F12 <code>@Html</code> 去了解内部结构。</li><li>调用 HtmlHelper 方法和使用 HTML 标签之间的区别在于 HtmlHelper 方法旨在使绑定到查看数据或模型数据变得容易。</li><li>推荐使用泛型的 TextBoxFor&lt;TModel, TProperty&gt;() 方法，而不是 TextBox()。强类型，错误少，执行速度快。</li><li>@Html.<code>CheckBoxFor</code>(m =&gt; m.isActive) 会额外生成 <code>&lt;input name=&quot;isActive&quot; type=&quot;hidden&quot; value=&quot;false&quot; /&gt;</code>。当 check 未选中时，form 表单值提交 false（check 标签不提交内容）；选中时，提交 true 和 false 两个值，当有多个同名值时，Action 中的参数会<code>匹配第一个</code>。</li><li>Student 类中 <code>[Display(Name = &quot;Name&quot;)]</code> 是给 @Html.LabelFor(m =&gt; m.StudentName) 用的。生成 <code>&lt;label for=&quot;StudentName&quot;&gt;Name&lt;/label&gt;</code></li></ul><h3 id="处理异常的方式"><a href="#处理异常的方式" class="headerlink" title="处理异常的方式"></a>处理异常的方式</h3><ol><li>使用 web.config 中的 <code>&lt;customErrors&gt;</code>，加上 <code>HandleErrorAttribute</code>。<ul><li><code>&lt;customErrors&gt;</code> 有三种值 On、Off、RemoteOnly。</li><li>设置好这两步后，<code>500 错误</code>会返回 Views share 文件夹中的 Error.cshtml（默认情况）。</li><li>FilterConfig 的 RegisterGlobalFilters 中加 filters.Add(new HandleErrorAttribute())，并在 Global 的 Application_Start 中注册 FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters)，则全局都可以 HandelError。（这两步都是默认有的）</li><li>如果没加，<code>[HanderError]</code> 属性标记了的才会返回 Error.cshtml。</li><li>[HanderError] 可设置参数，如 [HandleError(ExceptionType =typeof(NullReferenceException), View =”~/Views/Error/NullReference.cshtm=l”)]。</li><li>这种设置 <code>只配置返回网页，无法将错误写入log，或执行其他逻辑。</code></li></ul></li><li>重写 <code>Controller.OnException</code> 方法，控制器级的。<ul><li>不需要设置 <code>&lt;customErrors&gt;</code>。</li><li><code>1</code> 和 <code>2</code> 可以配合使用。设置了 <code>1</code>，filterContext.Result = Error.cshtml；如果重载了 OnException 则可替换成别的结果，或者执行一些其他操作。</li></ul></li><li>使用 HttpApplication 的 <code>Application_Error</code> 事件，在 Global 文件中，全局级别的。<ul><li>同样不需要设置 <code>&lt;customErrors&gt;</code>。</li><li>Application_Error 事件在<code>任何类型</code>的异常和错误代码上触发。</li></ul></li></ol><div class="note simple info flat"><p>暂时不知道 任何类型的异常和错误代码 和前面提到的 500 错误 有何区别。</p></div><h4 id="其他注意事项"><a href="#其他注意事项" class="headerlink" title="其他注意事项"></a>其他注意事项</h4><ul><li>如果都设置了，执行顺序 <code>1 -&gt; 2 -&gt; 3</code>。</li><li>建议使用全局 Application_Error 事件记录所有异常以及 web.config 中的 <code>&lt;customErrors&gt;</code> 元素以将其重定向到适当的页面。而重写 OnException 用于需要特殊处理的 Controller</li><li><code>上述异常处理技术将返回带有 200 状态码的响应。如果要返回 404 500 之类的，可以考虑用 web.config 的 &lt;httpErrors&gt;</code></li></ul><h3 id="数据有效性验证"><a href="#数据有效性验证" class="headerlink" title="数据有效性验证"></a>数据有效性验证</h3><ul><li>ModelState.IsValid</li><li>ValidationSummary ValidationMessageFor 要配合 return View(std) 使用，可添加参数使其更改为自定义提示信息。</li><li>ModelState.AddModelError 可添加自定义提示，如：ModelState.AddModelError(“StudentName”, “Student Name Already Exists.”)。添加的提示全部会显示在 ValidationSummary 中，并且会根据字段名匹配到相应字段（ValidationMessageFor）。</li></ul><h3 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h3><ul><li>_layout 有两种占位符 @RenderBody()、 @RenderSection(string name)。子页面中<code>相应名称</code>的 @section 会渲染到 RenderSection 中，其余渲染到 RenderBody 中。RenderSection 可设置是否 required。</li><li>_ViewStart.cshtml 可以用于指定 layout，子文件夹中也可以创建 _ViewStart.cshtml。另外，控制器中也可以指定 layout，return View(“Test”,”_layout2”)。<code>控制器指定的 layout &gt; 当前页面中指定的 layout（cshtml 文件最上方指定的） &gt; 当前文件夹 _ViewStart.cshtml 指定的 layout &gt; 大于全局的 layout（view 文件夹下的 _ViewStart.cshtml）</code>。</li></ul><h4 id="Partial-View。"><a href="#Partial-View。" class="headerlink" title="Partial View。"></a>Partial View。</h4><ul><li>@Html.Partial() 它返回一个 HTML 字符串，因此有机会在呈现之前修改 HTML（通过重载 Partial 方法）。</li><li>@html.RenderPartial() 方法与 @html.Partial() 方法相同，只是它将指定部分视图的结果 HTML 直接写入 HTTP 响应流，也可以在渲染之前修改它的 HTML。</li><li>@html.RenderAction(“RenderMenu”, “Home”)，前提得实现并调用一个<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialsteacher.com/mvc/partial-view-in-asp.net-mvc#:~:text=The%20@html.RenderAction()%20method">符合规范的 Action</a>。</li><li>RenderPartial() <code>方法返回void，所以后需要一个分号</code>，因此它必须包含在@{} 中。</li></ul><h3 id="ViewBag-ViewData"><a href="#ViewBag-ViewData" class="headerlink" title="ViewBag ViewData"></a>ViewBag ViewData</h3><ul><li>ViewBag 是 ControllerBase 类的字段 <code>public dynamic ViewBag &#123; get; &#125;</code>（为何是只读的？）。原始类型或复杂类型对象都可以分配给 ViewBag 属性，重复给同一个名称分配值会覆盖。</li><li>ViewBag 和 ViewData 只将数据从控制器传输到视图，反之则不然。<code>如果发生重定向，ViewBag 值将为空。</code></li><li>ViewData 值在使用之前必须被转换为适当的类型。</li><li>ViewBag 是 dynamic 类型，而 ViewData 是 Object 类型。可以这么用 <code>ViewBag.Arr.Length</code>（即使没有智能提示），但不能 ViewData.Arr.Length。</li><li>ViewBag 是 ViewData 的包装器。如果 ViewBag 属性名称与 ViewData 的键匹配，它将抛出运行时异常。<br><code>*我自己测试的情况似乎不是这样的。</code></li></ul><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">MVC <span class="number">5.2</span><span class="number">.7</span> </span><br><span class="line">测试情况：</span><br><span class="line"><span class="number">1.</span> ViewBag 和 ViewData 如果有同名的赋值，会被覆盖为后一个。<span class="meta"># 说明它们内部应该是同一个容器</span></span><br><span class="line"><span class="number">2.</span> ViewBag 可以使用（也可以覆盖） ViewData 设置的值，反之亦然。</span><br><span class="line"></span><br><span class="line"><span class="meta"># ViewBag（MVC 3.0) 应该是 ViewData（MVC 1.0) 的升级版。毕竟功能差不多，ViewBag 不用类型转换。</span></span><br><span class="line"><span class="meta"># 原理还不清楚，最好被混着用。我选择 ViewBag。</span></span><br></pre></td></tr></table></figure><h3 id="TempData"><a href="#TempData" class="headerlink" title="TempData"></a>TempData</h3><ul><li>TempData 用于将数据从<code>视图传输到控制器</code>、控制器到视图，或从一个 Action 传输到相同或不同控制器的 Action。</li><li>TempData 临时存储数据并在<code>检索值后自动删除它</code>，TempData.Keep() 可使其保留待删除数据。</li></ul><h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><ul><li>Filter 是一个自定义类，您可以在其中编写自定义逻辑以在 Action 执行之前或之后执行。</li><li>过滤器可以以<code>声明式</code>或<code>编程式</code>应用于行为或控制器。<code>声明式</code>是将过滤器特性应用于行为或控制器类，<code>编程式</code>是实现相应的接口。</li><li>MVC 提供了<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialsteacher.com/mvc/filters-in-asp.net-mvc#:~:text=MVC%20provides%20different%20types%20of%20filters">四种类型</a>的过滤器：Authorization、Action、Result、Exception。</li></ul><h4 id="HandleErrorAttribute"><a href="#HandleErrorAttribute" class="headerlink" title="HandleErrorAttribute"></a>HandleErrorAttribute</h4><ul><li>HandleErrorAttribute 类是一个<code>内置</code>的异常过滤器类，它在发生未处理的异常时默认呈现 Error.cshtml。 HandleError 特性其实指的就是它。抛出一个未处理的异常时会执行它，未处理的异常是没有被 try-catch 捕捉的异常。可以设置全局，也可以给特定的 Controller 或 Action 添加特性。具体在<a href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E7%9A%84%E6%96%B9%E5%BC%8F">处理异常的方式</a>有说明。</li></ul><h4 id="自定过滤器"><a href="#自定过滤器" class="headerlink" title="自定过滤器"></a>自定过滤器</h4><ul><li>自定义异常过滤器 <code>class MyErrorHandler : FilterAttribute, IExceptionFilter</code>（没有测试是否继承其中一个就行） ，其他类型的过滤器同理（如：Action 过滤器继承 FilterAttribute、IActionFilter ）。</li><li>也可以<code>派生</code>一个内置过滤器类并<code>重写</code>适当的方法来扩展内置过滤器的功能。</li><li>它们使用方法和内置过滤器是一样的。</li></ul><h4 id="Action-Filters"><a href="#Action-Filters" class="headerlink" title="Action Filters"></a>Action Filters</h4><ul><li>OutputCache 是一个内置的 Action Filters，设置返回结果（没测试除 View 外，其他是否可以）的缓存时间。行为过滤器通常用于应用横切关注点，例如日志记录、缓存、授权<code>（不是有个专门的 Authorization 过滤器吗？）</code>等。</li><li>OnActionExecuting （Action 之前）-&gt; OnActionExecuted （Action 之后，View 渲染之前）-&gt; OnResultExecuting （View 渲染之前）-&gt; OnResultExecuted （View 渲染之后）。</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/a/20125845/8910566">OnActionExecuted 和 OnResultExecuting 却别在于他们有不同的 Context</a>。<ol><li>OnActionExecuted 有一个 <code>ActionExecutedContext</code>，可以在其中查看操作产生的结果。还可以查看操作是否遇到异常，并查看是否处理了异常。</li><li>OnResultExecuting 有一个 <code>ResultExecutingContext</code>。这个方法在 ActionResult 实例被调用之前被调用。可以用来检查方法的结果，也可以取消结果的执行，这通常会导致状态代码为 200 的空白响应。（没法在 OnActionExecuted 方法中执行此操作）。</li></ol></li></ul><h3 id="Bundling-and-Minification"><a href="#Bundling-and-Minification" class="headerlink" title="Bundling and Minification"></a>Bundling and Minification</h3><ul><li>捆绑允许我们在单个 HTTP 请求中从服务器加载一堆静态文件。缩小技术通过删除不必要的空格和注释<code>并将变量名称缩短为一个字符</code>来优化脚本或 CSS 文件大小。</li><li>ScriptBundle、StyleBundle、DynamicFolderBundle</li><li>BundleConfig 的 RegisterBundles 方法中设置 ScriptBundle、StyleBundle，View 使用 @Scripts.Render(“”) 或 @Styles.Render(“”)。需要在 Global 中注册 BundleConfig.RegisterBundles(BundleTable.Bundles) 。</li><li>生成的绑定文件在另一个文件夹中，那么类似于 <code>background:url(../images/border_btm.png)</code> 这样的包含相对路径的引用将会 404，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.tutorialsteacher.com/articles/how-to-set-image-path-in-style-bundle">可以用 CssRewriteUrlTransform 解决</a>。</li><li>其他设置<ol><li>IncludeDirectory 可绑定文件夹下的所有文件。</li><li>{version} 可自动匹配可用版本。</li><li>还可以设置 CDN。</li></ol></li></ul><h3 id="Area"><a href="#Area" class="headerlink" title="Area"></a>Area</h3><ol><li>Area 允许我们将大型应用程序划分为更小的单元，其中每个单元包含一个单独的 MVC 文件夹结构，与默认的 MVC 文件夹结构相同。</li><li>Area 中 AdminAreaRegistration (Admin为Area名）重写路由 ，<code>/Admin/profile</code> 请求会被映射到 Areas/Admin/controller/ProfileController。需要在 Global 中注册 AreaRegistration.RegisterAllAreas()。</li><li>如果项目中找不到添加 Area 的选项：添加 -&gt; 搭建基架的项目（New Scaffolded Item…） -&gt; MVC 中的 Area。</li></ol><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><ul><li><code>C# 程序中比较，无论是 linq 还是其他，默认是区分大小写的。如果 linq 转换为 sql 语句，在数据库中查询，是否区分大小写得看数据库的设置（默认是不区分的）。</code></li></ul></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noreferrer">itaru</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://www.itaru.xyz/blogs/cd7c564f.html">https://www.itaru.xyz/blogs/cd7c564f.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.itaru.xyz" target="_blank">木漏れ日</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C/">C#</a><a class="post-meta__tags" href="/tags/MVC/">MVC</a></div><div class="post_share"><div class="social-share" data-image="https://ih.itaru.xyz/images/reiko.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/blogs/ad93c862.html"><img class="prev-cover" src="https://ih.itaru.xyz/images/赫萝.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">关于 font-spider 踩的各种坑</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/blogs/9f8c60c3.html" title="C#中的protected internal 和 private protected可访问级别"><img class="cover" src="https://ih.itaru.xyz/images/咒术回战.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-30</div><div class="title">C#中的protected internal 和 private protected可访问级别</div></div></a></div><div><a href="/blogs/15902c4f.html" title="C# 中的托管与非托管（堆、资源、类型、代码）"><img class="cover" src="https://ih.itaru.xyz/images/鬼灭之刃.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-10</div><div class="title">C# 中的托管与非托管（堆、资源、类型、代码）</div></div></a></div><div><a href="/blogs/d8b002a3.html" title=".NET面试题 - C#与数据库"><img class="cover" src="https://ih.itaru.xyz/images/银河英雄传说-帝国.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-15</div><div class="title">.NET面试题 - C#与数据库</div></div></a></div><div><a href="/blogs/eb0f2435.html" title=".NET面试题 - C#与网站"><img class="cover" src="https://ih.itaru.xyz/images/银河英雄传说-同盟.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-16</div><div class="title">.NET面试题 - C#与网站</div></div></a></div><div><a href="/blogs/67f81ba6.html" title=".NET面试题 - C#基础知识"><img class="cover" src="https://ih.itaru.xyz/images/水果篮子.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-09</div><div class="title">.NET面试题 - C#基础知识</div></div></a></div><div><a href="/blogs/a2a26768.html" title=".NET面试题 - 编程基础知识"><img class="cover" src="https://ih.itaru.xyz/images/某科学的超电磁炮.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-17</div><div class="title">.NET面试题 - 编程基础知识</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://ih.itaru.xyz/images/limuru.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">itaru</div><div class="author-info__description">.NET程序员，喜欢动漫、小说、音乐，想做个自在的人。</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">22</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">20</div></a></div></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/simpleworldz" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:932266563@qq.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="iconfont icon-mail"></i></a><a class="social-icon" href="https://space.bilibili.com/32998251" rel="external nofollow noreferrer" target="_blank" title="bilibili"><i class="iconfont icon-bilibili-line"></i></a><a class="social-icon" href="https://music.163.com/#/user/home?id=255604997" rel="external nofollow noreferrer" target="_blank" title="netease"><i class="iconfont icon-netease-cloud-music-fill"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">本站托管于 GitHub，并同步托管于 Vercel。中国大陆使用腾讯云CDN，其余地区访问 Vercel。</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">1.</span> <span class="toc-text">路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Controller"><span class="toc-number">2.</span> <span class="toc-text">Controller</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Action"><span class="toc-number">3.</span> <span class="toc-text">Action</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E5%8C%B9%E9%85%8D"><span class="toc-number">3.1.</span> <span class="toc-text">参数匹配</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Razor"><span class="toc-number">4.</span> <span class="toc-text">Razor</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Html"><span class="toc-number">4.1.</span> <span class="toc-text">@Html</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">5.</span> <span class="toc-text">处理异常的方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">5.1.</span> <span class="toc-text">其他注意事项</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9C%89%E6%95%88%E6%80%A7%E9%AA%8C%E8%AF%81"><span class="toc-number">6.</span> <span class="toc-text">数据有效性验证</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#layout"><span class="toc-number">7.</span> <span class="toc-text">layout</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Partial-View%E3%80%82"><span class="toc-number">7.1.</span> <span class="toc-text">Partial View。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ViewBag-ViewData"><span class="toc-number">8.</span> <span class="toc-text">ViewBag ViewData</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TempData"><span class="toc-number">9.</span> <span class="toc-text">TempData</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filter"><span class="toc-number">10.</span> <span class="toc-text">Filter</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HandleErrorAttribute"><span class="toc-number">10.1.</span> <span class="toc-text">HandleErrorAttribute</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">10.2.</span> <span class="toc-text">自定过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Action-Filters"><span class="toc-number">10.3.</span> <span class="toc-text">Action Filters</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bundling-and-Minification"><span class="toc-number">11.</span> <span class="toc-text">Bundling and Minification</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Area"><span class="toc-number">12.</span> <span class="toc-text">Area</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">13.</span> <span class="toc-text">其他</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/blogs/cd7c564f.html" title="ASP.NET MVC 学习笔记"><img src="https://ih.itaru.xyz/images/reiko.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="ASP.NET MVC 学习笔记"></a><div class="content"><a class="title" href="/blogs/cd7c564f.html" title="ASP.NET MVC 学习笔记">ASP.NET MVC 学习笔记</a><time datetime="2022-01-04T07:23:45.000Z" title="发表于 2022-01-04 15:23:45">2022-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blogs/ad93c862.html" title="关于 font-spider 踩的各种坑"><img src="https://ih.itaru.xyz/images/赫萝.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="关于 font-spider 踩的各种坑"></a><div class="content"><a class="title" href="/blogs/ad93c862.html" title="关于 font-spider 踩的各种坑">关于 font-spider 踩的各种坑</a><time datetime="2022-01-02T09:14:24.000Z" title="发表于 2022-01-02 17:14:24">2022-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blogs/28b3acdd.html" title="Valine 无法评论的解决方案"><img src="https://ih.itaru.xyz/images/安达与岛村.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Valine 无法评论的解决方案"></a><div class="content"><a class="title" href="/blogs/28b3acdd.html" title="Valine 无法评论的解决方案">Valine 无法评论的解决方案</a><time datetime="2022-01-02T00:09:14.000Z" title="发表于 2022-01-02 08:09:14">2022-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blogs/9bec54e6.html" title="动漫资源汇总"><img src="https://ih.itaru.xyz/images/86-不存在的战区.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="动漫资源汇总"></a><div class="content"><a class="title" href="/blogs/9bec54e6.html" title="动漫资源汇总">动漫资源汇总</a><time datetime="2021-12-22T14:15:20.000Z" title="发表于 2021-12-22 22:15:20">2021-12-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/blogs/32ead7ca.html" title="Butterfly主题 Markdown 语法显示效果"><img src="https://ih.itaru.xyz/images/茵蒂克丝.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Butterfly主题 Markdown 语法显示效果"></a><div class="content"><a class="title" href="/blogs/32ead7ca.html" title="Butterfly主题 Markdown 语法显示效果">Butterfly主题 Markdown 语法显示效果</a><time datetime="2021-12-19T11:17:22.000Z" title="发表于 2021-12-19 19:17:22">2021-12-19</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright"><span>&copy;2021 - 2022</span><svg style="width:1.5em;height:1.5em;vertical-align:-.15em" aria-hidden="true"><use xlink:href="#icon-Butterfly"></use></svg><span>itaru</span></div><div class="footer_custom_text">但行好事，莫问前程。<br><img style="vertical-align:-.15em" src="https://ih.itaru.xyz/images/备案图标.png"><a href="https://beian.miit.gov.cn/" rel="external nofollow noreferrer" target="_blank">闽ICP备2021019764号-1</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script async>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()}),setTimeout((function(){preloader.endLoading()}),3e3)</script></div><div class="js-pjax"><script>function loadValine(){function e(){new Valine(Object.assign({el:"#vcomment",appId:"genl4SqketCh2IXRGUKmS9Kg-MdYXbMMI",appKey:"KRzjoOF52pJ1v80H8uisHTkC",placeholder:"记得留下你的昵称和邮箱....可以快速收到回复",avatar:"monsterid",meta:"nick,mail,link".split(","),pageSize:"10",lang:"zh-CN",recordIP:!1,serverURLs:"https://genl4sqk.api.lncldglobal.com",emojiCDN:"",emojiMaps:"",enableQQ:!1,path:window.location.pathname,requiredFields:["nick,mail"],visitor:!1},null))}"function"==typeof Valine?e():getScript("https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js").then(e)}{function loadOtherComment(){loadValine()}setTimeout(loadValine,0)}</script></div><script async src="//at.alicdn.com/t/font_2032782_8ns648avijk.js"></script><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="true"></script></div><script data-pjax>function butterfly_footer_beautify_injector_config(){var e=document.getElementById("footer-wrap");console.log("已挂载butterfly_footer_beautify"),e.insertAdjacentHTML("beforeend",'<div id="ghbdages" style="overflow:hidden;max-height:90px;height:auto;text-align:center;margin-top:10px"><div class="swiper-wrapper"><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://hexo.io/" rel="external nofollow noreferrer" style="margin-inline:5px" title="博客框架 Hexo v5.4.0"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" rel="external nofollow noreferrer" style="margin-inline:5px" title="主题版本 Butterfly v3.8.4"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://github.com/" rel="external nofollow noreferrer" style="margin-inline:5px" title="本站托管于 Github"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="https://cloud.tencent.com/" rel="external nofollow noreferrer" style="margin-inline:5px" title="大陆地区使用 腾讯云CDN 加速"><img src="https://img.shields.io/badge/CDN-tencent-blue?style=flat&amp;logo=Google%20Cloud" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer" style="margin-inline:5px" title="海外地区访问 Vercel"><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a></div></div></div><style>a.github-badge:hover:before {display:none}</style>')}for(var elist="null".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_footer_beautify_injector_config()</script><script defer src="https://unpkg.zhimg.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://unpkg.zhimg.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js"></script></body></html>